function customDropdown(){let e=document.querySelectorAll(".dropdown-custom, .dropdown-custom-select");function s(n){e.forEach(e=>{var t=e.querySelector(".dropdown-custom-menu"),o=e.querySelector(".dropdown-custom-btn");n&&e===n||(t.classList.remove("dropdown--active"),o.classList.remove("--active"))})}e.forEach(r=>{let t=r.querySelector(".dropdown-custom-btn"),o=r.querySelector(".dropdown-custom-menu");var e=r.querySelectorAll(".dropdown-custom-item");let i=r.querySelector(".value-select"),a=r.querySelector(".dropdown-custom-text"),l=r.classList.contains("dropdown-custom-select");t.addEventListener("click",function(e){e.stopPropagation(),s(r),o.classList.toggle("dropdown--active"),t.classList.toggle("--active")}),document.addEventListener("click",function(){s()}),e.forEach(n=>{n.addEventListener("click",function(e){var t,o;e.stopPropagation(),l?(e=n.textContent,a.textContent=e,r.classList.add("selected")):(e=(e=i.querySelector("img"))?e.src:"",t=i.querySelector("span").textContent,o=n.innerHTML,i.innerHTML=o,"Time"!==t.trim()&&(n.innerHTML=e?`<span>${t}</span><img src="${e}" alt="" />`:`<span>${t}</span>`)),s()})}),window.addEventListener("scroll",function(){o.closest(".header-lang")&&(o.classList.remove("dropdown--active"),t.classList.remove("--active"))})})}function scrollChangeBgHeader(){let e=document.querySelector("#header");e&&!e.classList.contains("without-home")&&gsap.to(e,{scrollTrigger:{trigger:"body",start:"top -10px",end:"+=100",onEnter:()=>e.classList.add("header-theme-light"),onLeaveBack:()=>e.classList.remove("header-theme-light")}})}function scrollFixedBookingForm(){let e=document.querySelector(".booking-form-wrapper");var t,o=document.querySelector("#header").clientHeight;e&&(t=e.getBoundingClientRect().top+window.pageYOffset,ScrollTrigger.create({trigger:"body",start:t+`px ${o}px`,endTrigger:"body",end:"bottom bottom",onEnter:()=>e.classList.add("booking-fixed"),onLeaveBack:()=>e.classList.remove("booking-fixed")}))}function checkScrollBookingUp(){let e=document.querySelector(".booking-form-wrapper");var t;e&&(t=e.getBoundingClientRect().top+window.pageYOffset,ScrollTrigger.create({trigger:"body",start:t+"px center",endTrigger:"body",end:"bottom bottom",onEnter:()=>e.classList.add("booking-up"),onLeaveBack:()=>e.classList.remove("booking-up")}))}function setOfferDescHeight(){document.querySelectorAll(".featured-offers .offer-item").forEach(e=>{var t=e.querySelector(".content-desc");t&&(t=t.offsetHeight,e.style.setProperty("--height-desc",t+"px"))})}function bookingTime(){var o,e;function t(){var e=o._opts.field.getBoundingClientRect(),t=o.el;e.top>=window.innerHeight/2?(t.style.top=e.top+window.scrollY-t.offsetHeight-20+"px",t.style.left=e.left+window.scrollX-30+"px",t.style.borderRadius="12px 12px 0 0"):(t.style.top=e.bottom+window.scrollY+15+"px",t.style.left=e.left+window.scrollX-30+"px",t.style.borderRadius="0 0 12px 12px")}document.querySelector(".booking-form-wrapper")&&(o=new Lightpick({field:document.getElementById("checkInDate"),secondField:document.getElementById("checkOutDate"),singleDate:!1,minDate:moment().startOf("now"),numberOfMonths:2,startDate:moment().startOf("day").toDate(),endDate:moment().startOf("day").add(1,"days").toDate(),onOpen:function(){t(),setTimeout(t,50),window.addEventListener("scroll",t),window.addEventListener("resize",t)},onClose:function(){window.removeEventListener("scroll",t),window.removeEventListener("resize",t)},onMonthChange:function(){setTimeout(t,10)},onYearChange:function(){setTimeout(t,10)}}),e=document.querySelector(".booking-calendar"))&&(e.addEventListener("click",function(e){e.stopPropagation(),o.show(),document.getElementById("checkInDate").focus()}),e.style.cursor="pointer")}function effectText(){gsap.registerPlugin(ScrollTrigger,SplitText),gsap.utils.toArray(".data-fade-in").forEach(e=>{var t=parseFloat(e.getAttribute("data-delay"))||0;gsap.fromTo(e,{opacity:0,y:20,willChange:"opacity, transform"},{opacity:1,y:0,duration:.6,ease:"sine.out",delay:t,scrollTrigger:{trigger:e,start:"top 80%",end:"bottom 80%"}})}),gsap.utils.toArray(".effect-line-auto").forEach(e=>{var t=parseFloat(e.getAttribute("data-delay"))||0,e=new SplitText(e,{type:"lines",linesClass:"line",mask:"lines"});gsap.fromTo(e.lines,{yPercent:100,willChange:"transform"},{yPercent:0,duration:1,ease:"power3.out",stagger:.05,delay:t})}),gsap.utils.toArray(".effect-line").forEach(e=>{var t=new SplitText(e,{type:"lines",linesClass:"line",mask:"lines"});gsap.fromTo(t.lines,{yPercent:100,willChange:"transform"},{yPercent:0,duration:1,ease:"power3.out",stagger:.05,scrollTrigger:{trigger:e,start:"top 80%"}})})}function animationItemsSection(){if(!($(window).width()<992))gsap.utils.toArray("[section-fade-each-item]").forEach(e=>{var t=e.querySelectorAll("[data-fade-item]");let o=gsap.timeline({scrollTrigger:{trigger:e,start:"top 70%",toggleActions:"play none none none"}});t.forEach(e=>{var t;e.hasAttribute("fade-item-line")?(t=new SplitText(e,{type:"lines",linesClass:"line",mask:"lines"}),gsap.set(t.lines,{yPercent:120}),o.to(t.lines,{yPercent:0,duration:.3,ease:"power1.out",stagger:{each:.3/t.lines.length,ease:"none"}})):(gsap.set(e,{y:30,opacity:0}),o.to(e,{y:0,opacity:1,duration:.3,ease:"ease"}))})})}function fadeTextFooter(){var e=document.querySelectorAll("[data-text-footer]"),t=(gsap.set(e,{opacity:0,y:20}),gsap.timeline({paused:!0}));return t.fromTo(e,{opacity:0,y:20},{opacity:1,y:0,stagger:.05,duration:.4,ease:"power2.out"}),ScrollTrigger.create({trigger:"footer",start:"top 80%",animation:t,toggleActions:"play none none none",invalidateOnRefresh:!0}),t}function scrollToTop(){document.querySelector(".btn-scroll-top").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}function ctaRun(){let i=document.getElementById("cta");if(i){let r=document.querySelector("footer");if(r){gsap.registerPlugin(ScrollTrigger);let n=!1;ScrollTrigger.create({trigger:"body",start:"top top",end:"bottom bottom",onUpdate:e=>{n||i.classList.toggle("run-right",1===e.direction)}}),ScrollTrigger.create({trigger:"footer",start:"top bottom",end:"bottom bottom",onEnter:()=>{n=!0,i.classList.remove("run-right")},onLeaveBack:()=>{n=!1,i.style.position="fixed",i.style.top=""},onUpdate:e=>{var t,o;n&&(t=r.getBoundingClientRect(),o=i.offsetHeight,t.top<window.innerHeight)&&(i.style.position="absolute",i.style.top=r.offsetTop-o-80+"px")}})}}}function initGuestSelector(){document.querySelectorAll(".booking-form-item .select-people").forEach(t=>{let e=t.querySelector(".adult-value"),o=t.querySelector(".child-value"),n=t.querySelector(".select-box"),r=n.querySelector(".adult .val"),i=n.querySelector(".child .val"),a=n.querySelector(".adult .min");var l=n.querySelector(".adult .plus");let s=n.querySelector(".child .min");var c=n.querySelector(".child .plus");let d=parseInt(r.textContent)||1,g=parseInt(i.textContent)||0;function u(){r.textContent=d,i.textContent=g,e.textContent=d,o.textContent=g,a.style.opacity=d<=1?"0.4":"1",a.style.pointerEvents=d<=1?"none":"auto",s.style.opacity=g<=0?"0.4":"1",s.style.pointerEvents=g<=0?"none":"auto"}a.addEventListener("click",()=>{1<d&&(d--,u())}),l.addEventListener("click",()=>{d++,u()}),s.addEventListener("click",()=>{0<g&&(g--,u())}),c.addEventListener("click",()=>{g++,u()}),u();l=t.querySelector(".select-people-wrapper");l&&l.addEventListener("click",e=>{e.target.closest(".select-box")||n.classList.toggle("active")}),document.addEventListener("click",e=>{t.contains(e.target)||n.classList.remove("active")})})}function accommodationDetail(){$(".accommodation-detail").length}export{customDropdown,scrollChangeBgHeader,scrollFixedBookingForm,checkScrollBookingUp,setOfferDescHeight,bookingTime,effectText,animationItemsSection,fadeTextFooter,scrollToTop,ctaRun,initGuestSelector,accommodationDetail};